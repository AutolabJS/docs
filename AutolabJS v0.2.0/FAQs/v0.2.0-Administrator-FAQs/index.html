
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.7.1">
    
    
      
        <title>Administrator - AutolabJS</title>
      
    
    
      <script src="../../../assets/javascripts/modernizr-1df76c4e58.js"></script>
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application-f98ca285f9.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
  
  
  
    <body>
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href="../../.." title="AutolabJS" class="md-icon md-icon--home md-header-nav__button">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Deployment Tutorial
                </span>
              
                <span class="md-header-nav__parent">
                  FAQ
                </span>
              
            
            Administrator
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">close</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result" data-md-lang-search="">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <div class="md-header-nav__source">
          
        </div>
      </div>
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-icon md-icon--home md-nav__button"></i>
    
    AutolabJS
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      AutolabJS
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        AutolabJS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../AutolabJS/" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-2" type="checkbox" id="nav-2-2">
    
    <label class="md-nav__link" for="nav-2-2">
      AutolabJS v0.1.0
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-2">
        AutolabJS v0.1.0
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../AutolabJS v0.1.0/AutolabJS-v010/" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-2-2" type="checkbox" id="nav-2-2-2">
    
    <label class="md-nav__link" for="nav-2-2-2">
      Deployment Tutorial
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-2-2-2">
        Deployment Tutorial
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../AutolabJS v0.1.0/v0.1-Deploying-using-Docker/" title="Deployment-on-Single-Machine" class="md-nav__link">
      Deployment-on-Single-Machine
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../AutolabJS v0.1.0/v0.1-Two-Machines/" title="On two machines" class="md-nav__link">
      On two machines
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../AutolabJS v0.1.0/v0.1-On-Azure-Cloud/" title="On Azure cloud" class="md-nav__link">
      On Azure cloud
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../AutolabJS v0.1.0/v0.1-JSON-files-documetation/" title="JSON details" class="md-nav__link">
      JSON details
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-2-3" type="checkbox" id="nav-2-2-3">
    
    <label class="md-nav__link" for="nav-2-2-3">
      Tutorials for Lab Authors
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-2-2-3">
        Tutorials for Lab Authors
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../AutolabJS v0.1.0/v0.1-Creating-and-Modifying-a-lab/" title="Creating a Lab" class="md-nav__link">
      Creating a Lab
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../AutolabJS v0.1.0/v0.1-Automate-Lab-Create-Update-Delete-Activities/" title="Automate lab/user" class="md-nav__link">
      Automate lab/user
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-2-4" type="checkbox" id="nav-2-2-4">
    
    <label class="md-nav__link" for="nav-2-2-4">
      Tutorials for Students
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-2-2-4">
        Tutorials for Students
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../AutolabJS v0.1.0/v0.1-Making-a-Submission/" title="Making a Submission" class="md-nav__link">
      Making a Submission
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../AutolabJS v0.1.0/v0.1-Post-lab-self-evaluation/" title="Post lab self evaluation" class="md-nav__link">
      Post lab self evaluation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-3" type="checkbox" id="nav-2-3" checked>
    
    <label class="md-nav__link" for="nav-2-3">
      AutolabJS v0.2.0
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-3">
        AutolabJS v0.2.0
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../AutolabJS-v020/" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-3-2" type="checkbox" id="nav-2-3-2" checked>
    
    <label class="md-nav__link" for="nav-2-3-2">
      Deployment Tutorial
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-2-3-2">
        Deployment Tutorial
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../v0.2.0-Deployment-on-Single-Machine/" title="Deployment-on-Single-Machine" class="md-nav__link">
      Deployment-on-Single-Machine
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../v0.2.0-Deployment-on-Two-Machines/" title="On two machines" class="md-nav__link">
      On two machines
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../v0.2.0-On-Azure-Cloud/" title="On Azure cloud" class="md-nav__link">
      On Azure cloud
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../v0.2.0-Container-Maintenance/" title="Container Maintenance" class="md-nav__link">
      Container Maintenance
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../v0.2.0-JSON-files-documetation/" title="JSON details" class="md-nav__link">
      JSON details
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../v0.2.0-Uninstall-Autolab/" title="Uninstall AutolabJS" class="md-nav__link">
      Uninstall AutolabJS
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-3-2-7" type="checkbox" id="nav-2-3-2-7" checked>
    
    <label class="md-nav__link" for="nav-2-3-2-7">
      FAQ
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-2-3-2-7">
        FAQ
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../v0.2.0-Student-FAQs/" title="Student" class="md-nav__link">
      Student
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../v0.2.0-Instructor-FAQs/" title="Instructor" class="md-nav__link">
      Instructor
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Administrator
      </label>
    
    <a href="./" title="Administrator" class="md-nav__link md-nav__link--active">
      Administrator
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#general" title="General" class="md-nav__link">
    General
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" title="Installation" class="md-nav__link">
    Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#load-balancer" title="Load Balancer" class="md-nav__link">
    Load Balancer
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#execution-nodes" title="Execution Nodes" class="md-nav__link">
    Execution Nodes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gitlab" title="gitlab" class="md-nav__link">
    gitlab
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-3-3" type="checkbox" id="nav-2-3-3">
    
    <label class="md-nav__link" for="nav-2-3-3">
      Tutorials for Lab Authors
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-2-3-3">
        Tutorials for Lab Authors
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../v0.2.0-Using-Autolab-in-a-Course/" title="Using AutolabJS-Initial Configuration" class="md-nav__link">
      Using AutolabJS-Initial Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-3-3-2" type="checkbox" id="nav-2-3-3-2">
    
    <label class="md-nav__link" for="nav-2-3-3-2">
      Creating a Lab
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-2-3-3-2">
        Creating a Lab
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../v0.2.0-Creating-and-Modifying-a-lab/" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../v0.2.0-Creating-Labs-for-JUnit-Tests/" title="JUnit-based labs" class="md-nav__link">
      JUnit-based labs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-3-3-2-3" type="checkbox" id="nav-2-3-3-2-3">
    
    <label class="md-nav__link" for="nav-2-3-3-2-3">
      Input-Output (IO) tests using
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="5">
      <label class="md-nav__title" for="nav-2-3-3-2-3">
        Input-Output (IO) tests using
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../v0.2.0-Creating-Labs-for-IO-Tests-with-Source-Code/" title="Source code" class="md-nav__link">
      Source code
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../v0.2.0-Creating-Labs-for-IO-Tests-with-Compiled-Binaries/" title="Compiled binaries" class="md-nav__link">
      Compiled binaries
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../v0.2.0-Manage-Course/" title="Manage Course" class="md-nav__link">
      Manage Course
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-3-4" type="checkbox" id="nav-2-3-4">
    
    <label class="md-nav__link" for="nav-2-3-4">
      Tutorials for Students
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-2-3-4">
        Tutorials for Students
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-3-4-1" type="checkbox" id="nav-2-3-4-1">
    
    <label class="md-nav__link" for="nav-2-3-4-1">
      Making a Submission
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-2-3-4-1">
        Making a Submission
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../v0.2.0-Making-a-Submission/" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../v0.2.0-Unit-Tests/" title="Unit tests" class="md-nav__link">
      Unit tests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-3-4-1-3" type="checkbox" id="nav-2-3-4-1-3">
    
    <label class="md-nav__link" for="nav-2-3-4-1-3">
      Input-Output (IO) tests using
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="5">
      <label class="md-nav__title" for="nav-2-3-4-1-3">
        Input-Output (IO) tests using
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../v0.2.0-IO-Tests/" title="Source code" class="md-nav__link">
      Source code
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../v0.2.0-IO-Tests-Binaries/" title="Compiled binaries" class="md-nav__link">
      Compiled binaries
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../v0.2.0-Post-lab-self-evaluation/" title="Post lab self evaluation" class="md-nav__link">
      Post lab self evaluation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../AutolabJS-coding-standards/" title="AutloabJS Coding Standards" class="md-nav__link">
      AutloabJS Coding Standards
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../autolabcli/" title="AutolabCLI" class="md-nav__link">
      AutolabCLI
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../docs/" title="Documentation" class="md-nav__link">
      Documentation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../website/" title="AutolabWebsite" class="md-nav__link">
      AutolabWebsite
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#general" title="General" class="md-nav__link">
    General
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" title="Installation" class="md-nav__link">
    Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#load-balancer" title="Load Balancer" class="md-nav__link">
    Load Balancer
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#execution-nodes" title="Execution Nodes" class="md-nav__link">
    Execution Nodes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gitlab" title="gitlab" class="md-nav__link">
    gitlab
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Administrator</h1>
                
                <h2 id="general">General</h2>
<ol>
<li>How many machines do I need to run Autolab?  <br />
<em>Ans:</em> Autolab can support up to 200 concurrent students on a single machine with 4GB RAM and dual-core processors, 40GB hard disk space. Autolab can easily support up to 600 students with take home style of home work assignments.</li>
</ol>
<h2 id="installation">Installation</h2>
<ol>
<li>
<p>The configuration file seems to be full of IP addresses. Does the Autolab support domain names (DNS)?  <br />
<em>Ans:</em> The domain names are supported and are in fact the preferred way of specifying the hostnames in all the configuration files.</p>
</li>
<li>
<p>I tried to run the Ansible playbook twice and got the database error shown below.  <br />
<code>TASK [Create Autolab database] *************************************************</code>  <br />
<code>fatal: [localhost]: FAILED! =&gt; {"changed": true, "cmd": ["docker", "exec", "autolab-db", "bash", "-c", "mysql -u root -proot -e 'CREATE DATABASE Autolab'"], "delta": "0:00:01.447437", "end": "2016-11-28 02:28:17.562664", "failed": true, "rc": 1, "start": "2016-11-28 02:28:16.115227", "stderr": "mysql: [Warning] Using a password on the command line interface can be insecure.\nERROR 1007 (HY000) at line 1: Can't create database 'Autolab'; database exists", "stdout": "", "stdout_lines": [], "warnings": []}</code>    </p>
</li>
</ol>
<p>What should I do now?  <br />
<em>Ans:</em> Comment (Please put a # symbol at the beginning of each line) lines 41 and 42 of <em>playbook.yml</em> file. Now run the installation command again. That should install the Autolab setup properly.  <br />
Another solution is to look at deleting an existing Autolab database completely. Please understand that choosing this option leads to data loss. Given that caveat, you can try the following recipe.    </p>
<pre><code>$sudo docker exec -it autolab-db bash
#mysql -u root -p          #on prompt, enter the DB root password set in &quot;inventory&quot; file
mysql&gt;DROP DATABASE Autolab;
mysql&gt;quit
#exit
</code></pre>

<ol>
<li>I got the installation error with Gitlab server with the error shown below.  <br />
<code>TASK [Waiting for Unicorn on GitLab server to be up] ***************************</code>  <br />
<code>fatal: [13.65.36.224]: FAILED! =&gt; {"changed": true, "cmd": "docker exec gitlab bash -c \"/wait-for-it.sh -t 300 127.0.0.1:8080\"", "delta": "0:05:00.112174", "end": "2016-11-28 02:17:04.006885", "failed": true, "rc": 124, "start": "2016-11-28 02:12:03.894711", "stderr": "wait-for-it.sh: waiting 300 seconds for 127.0.0.1:8080\nwait-for-it.sh: timeout occurred after waiting 300 seconds for 127.0.0.1:8080", "stdout": "", "stdout_lines": [], "warnings": []}</code>  <br />
    &nbsp;&nbsp;&nbsp;&nbsp;<code>to retry, use: --limit @/home/autolab/JavaAutolab/deploy/playbook.retry</code>    </li>
</ol>
<p>What should I do now?  <br />
<em>Ans:</em> Comment (Please put a # symbol at the beginning of each line) lines 41 and 42 of <em>playbook.yml</em> file. Now run the installation command again. That should install the Autolab setup properly.</p>
<ol>
<li>I made a configuration mistake in one of the containers (i.e., mainserver, loadbalancer or execution nodes) and that container is restarting. What should I do now?  <br />
<em>Ans:</em> First stop the container using the following command  <br />
<code>sudo docker stop &lt;container_name&gt;</code>  <br />
Correct the configuration in the configuration files available in the following locations.  <br />
mainserver --&gt; JavaAutolab/deploy/configs/main_server/<em>.json  <br />
loadbalancer --&gt; JavaAutolab/deploy/configs/load_balancer/</em>.json  <br />
execution_nodes... --&gt; /root/.autolab/configs/execution_nodes  <br />
AND then restart the respective container.    </li>
</ol>
<h2 id="load-balancer">Load Balancer</h2>
<ol>
<li>My evaluation requests get stuck forever. Upon checking the load balancer logs, I see socket connection refused message. Why?  <br />
<em>Ans:</em> The scores.json file of the execution nodes are not configured properly. Please correctly set the hostname and port parameters in scores.json for each of the execution nodes.    </li>
</ol>
<h2 id="execution-nodes">Execution Nodes</h2>
<ol>
<li>
<p>How do I add more execution nodes?  <br />
<em>Ans:</em> We have not automated the process for this step. In general the outline for adding extra execution nodes is as follows.    </p>
<ol>
<li>
<p>Login to the machine running the execution node. In a two machine setup, this would be Machine 2. In a single machine setup, the steps would be followed on the same machine.</p>
</li>
<li>
<p>Change to root user.  <br />
<code>sudo su</code></p>
</li>
<li>
<p>Change to execution node SSH keys directory.  <br />
<code>cd /root/.autolab/keys</code> (for two machine case, this path would be on machine-2)  <br />
<code>cd ~/.autolab/keys</code> (for single machine case, ~ refers to home directory of logged in user)    </p>
</li>
<li>
<p>Create a new directory with the intended name of execution node, for ex: execution-node-10.0.0.5-8083.  <br />
<code>mkdir execution-node-10.0.0.5-8083</code>    </p>
</li>
<li>
<p>Change to the newly created directory.  <br />
<code>cd execution-node-10.0.0.5-8083</code>    </p>
</li>
<li>
<p>Create a new SSH key for the execution node.  <br />
<code>ssh-keygen -t rsa -C 'admin@javaautolab.com' -f id_rsa -N ''</code></p>
</li>
<li>
<p>Add the public key to ssh keys of <em>root</em> user in Gitlab. Follow this <a href="https://docs.gitlab.com/ee/gitlab-basics/create-your-ssh-keys.html">Gitlab guide</a> if you need help with this step.</p>
</li>
<li>
<p>Change to configs directory.  <br />
<code>cd /root/.autolab/configs</code> (for two machine case, this path would be on machine-2)  <br />
<code>cd ~/.autolab/configs</code> (for single machine case, ~ refers to home directory of logged in user)    </p>
</li>
<li>
<p>Copy the existing settings of an execution node into new directory, say <code>execution_nodes2</code>.  <br />
<code>cp -r execution_nodes execution_nodes2</code></p>
</li>
<li>
<p>Change the host port in <code>execution_nodes2/conf.json</code> to one higher, non-used port, say 8083.</p>
</li>
<li>
<p>Set the hostname and port parameters in <code>execution_nodes2/scores.json</code> appropriately. The hostname field is the IP address of the machine on which the execution node container is to be run. The port field needs to be one higher, non-used port, say 8083.</p>
</li>
<li>
<p>Use the existing docker image <code>execution_node</code> to run a new container with name, say <code>execution-node-10.0.0.5-8083</code>.  <br />
<code>docker run --net=host --name=execution-node-10.0.0.5-8083 -e GITLAB_IP='10.0.0.4' -v /etc/localtime:/etc/localtime:ro -v /root/.autolab/configs/execution_nodes2:/etc/execution_node -v /root/.autolab/keys/execution-node-10.0.0.5-8083:/root/.ssh/ -dit execution_node</code></p>
</li>
<li>
<p>Exit the super user account.  <br />
<code>exit</code></p>
</li>
<li>
<p>Update the load balancer configuration to add new execution node.  <br />
<code>"Nodes": [
       {
         "hostname": "10.0.0.5",
         "port": "8082"
       },
       {
         "hostname": "10.0.0.5",
         "port": "8083"
       }
   .......rest of configuration file continues</code></p>
</li>
<li>
<p>Restart the load balancer.  <br />
<code>sudo ansible -i inventory loadbalancer --become --ask-become-pass  -m docker_container -a "name=loadbalancer  state=started restart=yes"</code></p>
</li>
</ol>
</li>
<li>
<p>What is the role of scores.json configuration file?  <br />
<em>Ans:</em> Execution node uses json object format specified in scores.json to configure itself. Please set the <em>hostname</em> and <em>port</em> of each execution node properly.</p>
</li>
</ol>
<h2 id="gitlab">gitlab</h2>
<ol>
<li>
<p>How do I change my gitlab server IP address?  <br />
<em>Ans:</em> First, make sure that your gitlab container is up and running. 
Then follow these steps:  <br />
<code>$sudo docker stop gitlab</code>  <br />
<code>$sudo docker rm gitlab</code>  <br />
<code>$sudo docker run --detach --hostname gitlab.example.com -e GITLAB_ROOT_PASSWORD="&lt;pwd&gt;" -e GITLAB_OMNIBUS_CONFIG="external_url 'https://&lt;new_ip&gt;'; nginx['redirect_http_to_https'] = true;" --publish 443:443 --publish 80:80 --publish 22:22 --name gitlab --restart always --volume /srv/gitlab/config:/etc/gitlab --volume /srv/gitlab/logs:/var/log/gitlab --volume /srv/gitlab/data:/var/opt/gitlab gitlab/gitlab-ce:latest</code>  <br />
<code>$sudo docker exec -it gitlab bash</code>  <br />
<code>#gitlab-ctl reconfigure</code>  <br />
<code>#gitlab-ctl restart</code></p>
<p>Change the <pwd> and <new_ip> variables to suit your scenario.</p>
</li>
<li>
<p>I am not able to send / receive forgotten password emails from gitlab. What should I do?  <br />
<em>Ans:</em> You need to enable SMTP settings in Gitlab. Modify the <code>/etc/gitlab/gitlab.rb</code> file in gitlab container as per the instructions available on the gitlab <a href="http://docs.gitlab.com/omnibus/settings/smtp.html">smtp settings</a> page.  <br />
    Reconfigure gitlab using the command  <br />
<code>gitlab-ctl reconfigure</code>  <br />
    send a test mail to yourself by using the following commands  <br />
<code>gitlab-rails console</code>  <br />
    From gitlab ruby terminal, type  <br />
<code>irb(main):003:0&gt; Notify.test_email('&lt;your_mail_id&gt;', 'Message Subject', 'Message Body').deliver_now</code>  <br />
    Most mail providers like Gmail and Yahoo need modifications to settings in their mail accounts from <strong>more secure</strong> to <strong>less secure</strong> in order for the mail account to be used for sending gitlab email.</p>
</li>
<li>
<p>I forgot the <code>root</code> password of gitlab. Is there a way to recover the same?  <br />
<em>Ans:</em> You can recover the password using <a href="http://docs.gitlab.com/ce/security/reset_root_password.html">instructions</a> from GitLab.</p>
</li>
<li>
<p>How do I disable groups feature for regular users?  <br />
<em>Ans:</em> Please see the <a href="https://docs.gitlab.com/ce/workflow/groups.html#allowing-only-admins-to-create-groups">groups documentation</a> available on gitlab.</p>
</li>
</ol>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../v0.2.0-Instructor-FAQs/" title="Instructor" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Instructor
              </span>
            </div>
          </a>
        
        
          <a href="../../v0.2.0-Using-Autolab-in-a-Course/" title="Using AutolabJS-Initial Configuration" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Using AutolabJS-Initial Configuration
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="" class="md-footer-social__link fa fa-github"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application-e3caa82af6.js"></script>
      
      
      <script>app.initialize({url:{base:"../../.."}})</script>
      
    
    
      
    
  </body>
</html>